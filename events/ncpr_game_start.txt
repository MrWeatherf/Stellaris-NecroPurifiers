namespace = ncpr_game_start

planet_event = {
	id = ncpr_game_start.01
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		# Necropurifier: set flag & citizenship type, spawn prepatent Pops, add Traits, set living standards, etc.
		# We only do this for Necropurifier; we already did this for everything else in the base game setup stuff.
		if = {
			limit = {
				owner = {
					has_origin = origin_necropurifier
				}
			}
			# Force-add the fanatic purifiers civic, requires 'owner' scope because it's empire level.
			# We should already meet the other pre-requesites for this because of the
			# origin restrictions, so this shouldn't immediately become invalid.
			owner = {
				force_add_civic = civic_fanatic_purifiers
			}

			# Configure the prepatent species, which is a planet level thing.
			last_created_species = {
				set_species_flag = syncretic_species@root.owner
				set_species_flag = necrophage_purifier_prepatent
				set_citizenship_type = {
					country = root.owner
					type = citizenship_necro_slavery
				}
			}
			while = {
				# Necrophages get 12 prepatent pops, Necropurifiers will only get 8
				# This is probably still an overpowered Origin because of the extra civic
				# But the lower pop starting point MIGHT help balance it a tiny bit.
				count = 8
				create_pop = {
					species = last_created_species
					ethos = random
				}
			}
			# Actual necrophage building
			add_building = building_necrophage_elevation_chamber
		}
	}
}
