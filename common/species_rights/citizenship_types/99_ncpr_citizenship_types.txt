# from = country (the empire applying the citizenship)
# this = species (the species receiving the citizenship)

citizenship_necro_slavery = {
	is_slavery = yes

	in_breach_of = {
		{
			key = resolution_greatergood_balance_in_the_middle
		}
		{
			key = resolution_greatergood_universal_prosperity_mandate
		}
	}

	potential = {
		exists = from
		from = {
			has_origin = origin_necropurifier
		}
		has_species_flag = necrophage_purifier_prepatent
	}

	allow = {
		hidden_trigger = { exists = from }
		if = {
			limit = {
				from = {
					has_origin = origin_necropurifier
				}
			}
			custom_tooltip = {
				fail_text = "NECRO_PURIFIERS_MUST_PURIFY"
				NOT = {
					has_species_flag = necrophage_purifier_prepatent
				}
			}
		}
		else = {
			custom_tooltip = {
				fail_text = "NON_NECRO_PURIFIERS_CANT_DO_THIS"
			}
		}
	}
	ai_will_do = {
		# AI should not use this origin
		factor = 0
	}
}